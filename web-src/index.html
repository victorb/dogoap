<html>
  <head>
    <title>Dogoap Bevy Examples</title>
    <link rel="stylesheet" href="./style.css">
  </head>
  <body>
    <div id="menu">
      <a href="#cells">Cells / Quickstart</a>
      <a href="#miner">Miner / Longer plans</a>
      <a href="#resman">Lemonade / Co-operation</a>
      <a href="#von_neumann">Von Neumann / Player interaction</a>
    </div>
    <div id="container">
      <canvas id="example-canvas"></canvas>
    </div>
    <script type="module">
      import initMiner from './wasm/examples/miner.js'
      import initCells from './wasm/examples/cells.js'
      import initLemonade from './wasm/examples/resman.js'
      import initNeumann from './wasm/examples/von_neumann.js'

      function markActive(id) {
        document.querySelector(`a[href="#${id}"]`).classList.add("active")
      }

      const example = window.location.hash.substr(1)

      if (example === "miner") {
        initMiner()
      } else if (example === "cells") {
        initCells()
      } else if (example === "resman") {
        initLemonade()
      } else if (example === "von_neumann") {
        initNeumann()
      } else {
        // default option
        initCells()
      }
      markActive(example || "cells")

      window.onhashchange = () => {
        window.location.reload()
      }
    </script>
  </body>
</html>
